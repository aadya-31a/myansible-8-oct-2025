--- 
 - hosts: webserver 
   become: yes
   gather_facts: yes  
   tasks:
    - name: install webserver on ubuntu node
      apt: 
        name: "{{webpackonubuntu}}" 
        state: present
      when: ansible_os_family =="Debian" 
   
    - name: start webserver on nodes
      service:
        name: "{{webpackonubuntu}}"
        state: started
      when: ansible_os_family =="Debian" 

    - name: install webserver on Redhat nodes
      dnf:
        name: "{{webpackonredhat}}"
        state: present
      when: ansible_os_family =="Redhat"

    - name: start webserver on Redhat nodes
      service:
        name: "{{webpackonredhat}}"
        state: started
      when: ansible_os_family =="Redhat"